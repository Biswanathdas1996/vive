<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Catalog</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }

        header {
            background-color: #333;
            color: white;
            padding: 1em;
            text-align: center;
        }

        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        @media (min-width: 768px) {
            .container {
                grid-template-columns: 250px 1fr;
            }
        }

        .sidebar {
            padding: 1em;
            border-right: 1px solid #ccc;
        }

        .filter-section, .sort-section {
            margin-bottom: 1.5em;
        }

        .filter-section h3, .sort-section h3 {
            margin-bottom: 0.5em;
        }

        .filter-section label, .sort-section label {
            display: block;
            margin-bottom: 0.3em;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .product-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.2s ease;
        }

        .product-card:hover {
            transform: translateY(-5px);
        }

        .product-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            display: block; /* Remove extra space below images */
        }

        .product-details {
            padding: 1em;
        }

        .product-details h4 {
            margin-top: 0;
            margin-bottom: 0.5em;
        }

        .product-details p {
            margin-bottom: 0.5em;
            color: #555;
        }

        .product-details .price {
            font-weight: bold;
            color: #007bff;
        }

        .search-bar {
            margin-bottom: 1em;
            padding: 0.5em;
            border: 1px solid #ccc;
            border-radius: 4px;
            width: 100%; /* Ensure search bar takes full width */
        }

        .clear-filters-button {
            background-color: #dc3545;
            color: white;
            border: none;
            padding: 0.5em 1em;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
        }

        .clear-filters-button:hover {
            background-color: #c82333;
        }

    </style>
</head>
<body>
    <header>
        <h1>Product Catalog</h1>
    </header>

    <div class="container">
        <aside class="sidebar">
            <input type="search" id="search" class="search-bar" placeholder="Search products...">
            <div class="filter-section">
                <h3>Category</h3>
                <label><input type="checkbox" class="category-filter" value="electronics"> Electronics</label>
                <label><input type="checkbox" class="category-filter" value="clothing"> Clothing</label>
                <label><input type="checkbox" class="category-filter" value="books"> Books</label>
            </div>

            <div class="filter-section">
                <h3>Price</h3>
                <label><input type="checkbox" class="price-filter" data-min="0" data-max="50"> Under $50</label>
                <label><input type="checkbox" class="price-filter" data-min="50" data-max="100"> $50 - $100</label>
                <label><input type="checkbox" class="price-filter" data-min="100" data-max="200"> $100 - $200</label>
                <label><input type="checkbox" class="price-filter" data-min="200" data-max="Infinity"> Over $200</label>
            </div>

             <div class="sort-section">
                <h3>Sort by</h3>
                <label><input type="radio" name="sort" value="price-asc"> Price: Low to High</label>
                <label><input type="radio" name="sort" value="price-desc"> Price: High to Low</label>
            </div>
            <button class="clear-filters-button">Clear Filters</button>
        </aside>

        <main>
            <div class="product-grid" id="product-grid">
                <!-- Products will be dynamically added here -->
            </div>
        </main>
    </div>

    <script>
        const products = [
            { id: 1, name: "Laptop", category: "electronics", price: 1200, imageUrl: "https://via.placeholder.com/300x200?text=Laptop" },
            { id: 2, name: "T-shirt", category: "clothing", price: 25, imageUrl: "https://via.placeholder.com/300x200?text=T-shirt" },
            { id: 3, name: "Book", category: "books", price: 15, imageUrl: "https://via.placeholder.com/300x200?text=Book" },
            { id: 4, name: "Smartphone", category: "electronics", price: 800, imageUrl: "https://via.placeholder.com/300x200?text=Smartphone" },
            { id: 5, name: "Jeans", category: "clothing", price: 75, imageUrl: "https://via.placeholder.com/300x200?text=Jeans" },
            { id: 6, name: "Novel", category: "books", price: 20, imageUrl: "https://via.placeholder.com/300x200?text=Novel" },
            { id: 7, name: "Tablet", category: "electronics", price: 300, imageUrl: "https://via.placeholder.com/300x200?text=Tablet" },
            { id: 8, name: "Dress", category: "clothing", price: 100, imageUrl: "https://via.placeholder.com/300x200?text=Dress" },
            { id: 9, name: "Textbook", category: "books", price: 50, imageUrl: "https://via.placeholder.com/300x200?text=Textbook" }
        ];


        const productGrid = document.getElementById('product-grid');
        const searchInput = document.getElementById('search');
        const categoryFilters = document.querySelectorAll('.category-filter');
        const priceFilters = document.querySelectorAll('.price-filter');
        const sortRadios = document.querySelectorAll('input[name="sort"]');
        const clearFiltersButton = document.querySelector('.clear-filters-button');

        function renderProducts(productsToRender) {
            productGrid.innerHTML = '';
            productsToRender.forEach(product => {
                const productCard = document.createElement('div');
                productCard.classList.add('product-card');

                productCard.innerHTML = `
                    <img src="${product.imageUrl}" alt="${product.name}">
                    <div class="product-details">
                        <h4>${product.name}</h4>
                        <p>Category: ${product.category}</p>
                        <p class="price">$${product.price}</p>
                    </div>
                `;
                productGrid.appendChild(productCard);
            });
        }

        function filterProducts() {
            let filteredProducts = [...products];

            // Search
            const searchTerm = searchInput.value.toLowerCase();
            if (searchTerm) {
                filteredProducts = filteredProducts.filter(product =>
                    product.name.toLowerCase().includes(searchTerm)
                );
            }

            // Category Filter
            const selectedCategories = Array.from(categoryFilters)
                .filter(checkbox => checkbox.checked)
                .map(checkbox => checkbox.value);

            if (selectedCategories.length) {
                filteredProducts = filteredProducts.filter(product =>
                    selectedCategories.includes(product.category)
                );
            }

            // Price Filter
            const selectedPriceFilters = Array.from(priceFilters)
                .filter(checkbox => checkbox.checked);

            if (selectedPriceFilters.length) {
                filteredProducts = filteredProducts.filter(product => {
                    for (const filter of selectedPriceFilters) {
                        const min = parseFloat(filter.dataset.min);
                        const max = parseFloat(filter.dataset.max);
                        if (product.price >= min && product.price <= max) {
                            return true; // Match found
                        }
                    }
                    return false; // No match in any selected filter
                });
            }



            // Sorting
            const selectedSort = document.querySelector('input[name="sort"]:checked')?.value;
            if (selectedSort === 'price-asc') {
                filteredProducts.sort((a, b) => a.price - b.price);
            } else if (selectedSort === 'price-desc') {
                filteredProducts.sort((a, b) => b.price - a.price);
            }

            renderProducts(filteredProducts);
        }

        searchInput.addEventListener('input', filterProducts);
        categoryFilters.forEach(filter => filter.addEventListener('change', filterProducts));
        priceFilters.forEach(filter => filter.addEventListener('change', filterProducts));
        sortRadios.forEach(radio => radio.addEventListener('change', filterProducts));

        clearFiltersButton.addEventListener('click', () => {
            searchInput.value = '';
            categoryFilters.forEach(checkbox => checkbox.checked = false);
            priceFilters.forEach(checkbox => checkbox.checked = false);
            sortRadios.forEach(radio => radio.checked = false);
            filterProducts();
        });



        renderProducts(products); // Initial render
    </script>
</body>
</html>