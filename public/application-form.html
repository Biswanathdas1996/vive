<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Loan Application Form</title>
<style>
:root {
  --primary-color: #673ab7;
  --secondary-color: #e91e63;
  --background-color: #f4f4f4;
  --text-color: #333;
  --accent-color: #ff9800;
  --shadow-color: rgba(0,0,0,0.2);
  --border-radius: 8px;
  --spacing-unit: 1rem;
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background-color: var(--background-color);
  color: var(--text-color);
  line-height: 1.6;
  margin: 0;
  display: flex;
  min-height: 100vh;
  flex-direction: column;
}

.container {
  max-width: 800px;
  margin: 2rem auto;
  padding: 2rem;
  background-color: rgba(255,255,255,0.8);
  border-radius: var(--border-radius);
  box-shadow: 0 0.5rem 1rem var(--shadow-color);
}

h1, h2 {
  color: var(--primary-color);
}

h1 {
  font-size: 2.5rem;
  margin-bottom: 1rem;
}

h2 {
  font-size: 1.8rem;
  margin-bottom: 0.8rem;
}

label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: bold;
}

input[type="text"],
input[type="number"],
textarea,
select {
  width: calc(100% - 2rem);
  padding: 1rem;
  margin-bottom: 1rem;
  border: 1px solid #ccc;
  border-radius: var(--border-radius);
  box-sizing: border-box;
  font-size: 1rem;
}

input[type="submit"] {
  background-color: var(--primary-color);
  color: white;
  padding: 1rem 2rem;
  border: none;
  border-radius: var(--border-radius);
  cursor: pointer;
  transition: background-color 0.3s ease;
}

input[type="submit"]:hover {
  background-color: var(--secondary-color);
}

.progress-bar {
  height: 20px;
  width: 0%;
  background-color: var(--accent-color);
  border-radius: var(--border-radius);
  transition: width 0.5s ease;
}

.progress-container {
  margin-bottom: 2rem;
}

.step-indicator {
  display: flex;
  justify-content: space-between;
  margin-bottom: 1rem;
}

.step {
    background-color: #eee;
    padding: 0.5rem 1rem;
    border-radius: var(--border-radius);
    cursor: pointer;
}

.step.active{
    background-color: var(--accent-color);
    color: white;
}

/*Responsive Styles*/
@media (max-width: 600px) {
  .container {
    padding: 1rem;
  }
  h1 {
    font-size: 2rem;
  }
  h2 {
    font-size: 1.5rem;
  }
}
</style>
</head>
<body>
<div class="container">
  <h1>Loan Application</h1>
  <div class="progress-container">
    <div class="progress-bar" id="progressBar"></div>
  </div>
  <div class="step-indicator">
    <div class="step active">Personal Info</div>
    <div class="step">Financial Info</div>
    <div class="step">Employment Info</div>
    <div class="step">Loan Details</div>
  </div>

  <form id="loanApplicationForm" onsubmit="return validateForm()">
    <section id="personalInfo" style="display:block;">
      <h2>Personal Information</h2>
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required>
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required>
      <label for="phone">Phone:</label>
      <input type="tel" id="phone" name="phone" required>
    </section>

    <section id="financialInfo" style="display:none;">
      <h2>Financial Information</h2>
      <label for="income">Annual Income:</label>
      <input type="number" id="income" name="income" required>
      <label for="assets">Total Assets:</label>
      <input type="number" id="assets" name="assets" required>
    </section>

    <section id="employmentInfo" style="display:none;">
      <h2>Employment Information</h2>
      <label for="employer">Employer:</label>
      <input type="text" id="employer" name="employer" required>
      <label for="occupation">Occupation:</label>
      <input type="text" id="occupation" name="occupation" required>
    </section>
    <section id="loanDetails" style="display:none;">
        <h2>Loan Details</h2>
        <label for="loanAmount">Loan Amount:</label>
        <input type="number" id="loanAmount" name="loanAmount" required>
        <label for="loanPurpose">Loan Purpose:</label>
        <textarea id="loanPurpose" name="loanPurpose" rows="4" required></textarea>
    </section>
    <input type="submit" value="Submit Application">
  </form>
</div>

<script>
const sections = document.querySelectorAll('section');
const progressBar = document.getElementById('progressBar');
const steps = document.querySelectorAll('.step');

let currentStep = 0;
updateProgressBar();
updateStepIndicator();

function updateProgressBar() {
  progressBar.style.width = ((currentStep + 1) / steps.length) * 100 + '%';
}

function updateStepIndicator() {
    steps.forEach((step,index) => {
        if(index <= currentStep){
            step.classList.add('active')
        }else {
            step.classList.remove('active')
        }
    })
}

function showSection(sectionIndex) {
  sections.forEach((section, index) => {
    section.style.display = index === sectionIndex ? 'block' : 'none';
  });
  currentStep = sectionIndex;
  updateProgressBar();
  updateStepIndicator();
}

steps.forEach((step,index) => {
    step.addEventListener('click', () => {
        showSection(index);
    })
})

function validateForm() {
    // Add your validation logic here.  For brevity, this is omitted.
    // Example: Check if all required fields are filled.
  let isValid = true;
  sections.forEach(section => {
      const inputs = section.querySelectorAll('input, textarea, select');
      inputs.forEach(input => {
          if(input.required && input.value.trim() === ""){
              isValid = false;
              input.style.border = '2px solid red';
          } else {
            input.style.border = '1px solid #ccc';
          }
      })
  })
  return isValid;
}


</script>

</body>
</html>